{"ast":null,"code":"import NavBar from\"./components/navbar\";import{useState,useEffect}from\"react\";import{Mic,CalendarDays,LayoutList,Users,Map,ArrowLeft}from\"lucide-react\";import{v4 as uuidv4}from\"uuid\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Home(){const[isNavOpen,setIsNavOpen]=useState(false);const[isLoading,setIsLoading]=useState(false);const[isAgent,setIsAgent]=useState(false);const[userInput,setUserInput]=useState(\"\");const[agentResponse,setAgentResponse]=useState(null);// State to store the agent's response\nconst[data,setData]=useState([]);const[displayInput,setDisplayInput]=useState(false);const[id,setId]=useState(0);const sendUserInput=()=>{const id=uuidv4();setDisplayInput(false);setAgentResponse(null);const newData={id:id,prompt:userInput,response:\"Waiting for response...\"};// Initial response as a placeholder\nsetId(id);setData([...data,newData]);// Add the new input to the data array immediately\nsetIsAgent(true);fetch(\"/agent\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user_input:userInput})}).then(res=>res.json()).then(agentData=>{setData(currentData=>currentData.map(item=>item.prompt===userInput?{...item,response:agentData.response}:item));setAgentResponse(agentData.response+\"hola\");// Update the response in the data array\n}).finally(()=>setIsLoading(false),setDisplayInput(true));};return/*#__PURE__*/_jsx(\"div\",{className:\" w-full h-screen \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-row h-screen \",children:[/*#__PURE__*/_jsx(NavBar,{setIsNavOpen:setIsNavOpen}),!isAgent&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex px-[200px] items-center \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center text-center w-full  h-fit\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"text\",{className:\"font-bold text-2xl\",children:\"Your very own digital secretary.\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center my-10 space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"h-[60px] w-full border-gray-200 border-solid border-2 p-2 rounded-md\",placeholder:\"Hi, how can I help you?\",value:userInput,onChange:e=>setUserInput(e.target.value),onKeyDown:e=>e.key===\"Enter\"&&sendUserInput()// Use onKeyDown to detect the Enter key press\n}),/*#__PURE__*/_jsx(\"button\",{onClick:sendUserInput// Call sendUserInput when the button is clicked\n,className:\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",children:\"Enter\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-20 flex-row justify-center w-full\",children:[/*#__PURE__*/_jsx(CalendarDays,{size:\"40\"}),/*#__PURE__*/_jsx(LayoutList,{size:\"40\"}),/*#__PURE__*/_jsx(Users,{size:\"40\"}),/*#__PURE__*/_jsx(Map,{size:\"40\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\" flex items-center\",children:/*#__PURE__*/_jsx(Mic,{className:\"mx-3\",size:\"50\"})})]}),isAgent&&/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-screen flex justify-center transition-opacity duration-1000 \".concat(isAgent?\"opacity-100\":\"opacity-0\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-[500px] h-screen mt-10  flex-col overflow-auto\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setIsAgent(false);setAgentResponse(null);setData([]);},children:/*#__PURE__*/_jsx(ArrowLeft,{color:\"black\",size:\"20\"})})}),data.map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"my-4 rounded-md\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-2xl duration-1000\",children:item.prompt}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-semibold my-3\",children:\"Answer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-opacity font- text-lg duration-1000 \".concat(item.id===id?\"opacity-100\":\"opacity-200\"),children:item.response})]})},index)),displayInput&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{placeholder:\"Type your follow up questions here\",className:\"w-full  border-solid border-2 p-2 h-fit rounded-md transition-opacity duration-1000 \".concat(agentResponse?\"opacity-100\":\"opacity-0\"),onChange:e=>setUserInput(e.target.value),onKeyDown:e=>e.key===\"Enter\"&&sendUserInput()})})]})})]})});}","map":{"version":3,"names":["NavBar","useState","useEffect","Mic","CalendarDays","LayoutList","Users","Map","ArrowLeft","v4","uuidv4","jsx","_jsx","jsxs","_jsxs","Home","isNavOpen","setIsNavOpen","isLoading","setIsLoading","isAgent","setIsAgent","userInput","setUserInput","agentResponse","setAgentResponse","data","setData","displayInput","setDisplayInput","id","setId","sendUserInput","newData","prompt","response","fetch","method","headers","body","JSON","stringify","user_input","then","res","json","agentData","currentData","map","item","finally","className","children","placeholder","value","onChange","e","target","onKeyDown","key","onClick","size","concat","color","index"],"sources":["/Users/evandarrenchristanto/Documents/Personal/Projects/dev/untangled-v2/client/src/homepage.js"],"sourcesContent":["import NavBar from \"./components/navbar\";\nimport { useState, useEffect } from \"react\";\nimport {\n  Mic,\n  CalendarDays,\n  LayoutList,\n  Users,\n  Map,\n  ArrowLeft,\n} from \"lucide-react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport default function Home() {\n  const [isNavOpen, setIsNavOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isAgent, setIsAgent] = useState(false);\n  const [userInput, setUserInput] = useState(\"\");\n  const [agentResponse, setAgentResponse] = useState(null); // State to store the agent's response\n  const [data, setData] = useState([]);\n  const [displayInput, setDisplayInput] = useState(false);\n  const [id, setId] = useState(0);\n\n  const sendUserInput = () => {\n    const id = uuidv4();\n    setDisplayInput(false);\n    setAgentResponse(null);\n    const newData = {\n      id: id,\n      prompt: userInput,\n      response: \"Waiting for response...\",\n    }; // Initial response as a placeholder\n    setId(id);\n    setData([...data, newData]); // Add the new input to the data array immediately\n    setIsAgent(true);\n    fetch(\"/agent\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ user_input: userInput }),\n    })\n      .then((res) => res.json())\n      .then((agentData) => {\n        setData((currentData) =>\n          currentData.map((item) =>\n            item.prompt === userInput\n              ? { ...item, response: agentData.response }\n              : item\n          )\n        );\n\n        setAgentResponse(agentData.response + \"hola\"); // Update the response in the data array\n      })\n      .finally(() => setIsLoading(false),  setDisplayInput(true));\n  };\n\n  return (\n    <div className=\" w-full h-screen \">\n      <div className=\"w-full flex flex-row h-screen \">\n        <NavBar setIsNavOpen={setIsNavOpen} />\n        {!isAgent && (\n          <div className=\"w-full flex px-[200px] items-center \">\n            <div className=\"flex flex-col justify-center text-center w-full  h-fit\">\n              <div>\n                <text className=\"font-bold text-2xl\">\n                  Your very own digital secretary.\n                </text>\n              </div>\n              <div className=\"flex flex-row items-center my-10 space-x-3\">\n                <input\n                  className=\"h-[60px] w-full border-gray-200 border-solid border-2 p-2 rounded-md\"\n                  placeholder=\"Hi, how can I help you?\"\n                  value={userInput}\n                  onChange={(e) => setUserInput(e.target.value)}\n                  onKeyDown={(e) => e.key === \"Enter\" && sendUserInput()} // Use onKeyDown to detect the Enter key press\n                />\n                <button\n                  onClick={sendUserInput} // Call sendUserInput when the button is clicked\n                  className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n                >\n                  Enter\n                </button>\n              </div>\n              <div className=\"flex space-x-20 flex-row justify-center w-full\">\n                <CalendarDays size=\"40\" />\n                <LayoutList size=\"40\" />\n                <Users size=\"40\" />\n                <Map size=\"40\" />\n              </div>\n            </div>\n            <div className=\" flex items-center\">\n              <Mic className=\"mx-3\" size=\"50\" />\n            </div>\n          </div>\n        )}\n\n        {isAgent && (\n          <div\n            className={`w-full h-screen flex justify-center transition-opacity duration-1000 ${\n              isAgent ? \"opacity-100\" : \"opacity-0\"\n            }`}\n          >\n            <div className=\"w-[500px] h-screen mt-10  flex-col overflow-auto\">\n              <div>\n                <button\n                  onClick={() => {\n                    setIsAgent(false);\n                    setAgentResponse(null);\n                    setData([])\n                  }}\n                >\n                  <ArrowLeft color=\"black\" size=\"20\" />\n                </button>\n              </div>\n              {data.map((item, index) => (\n                <div key={index} className=\"my-4 rounded-md\">\n                  <div className=\"flex flex-col\">\n                    <div className=\"font-bold text-2xl duration-1000\">\n                      {item.prompt}\n                    </div>\n                    <div className=\"text-lg font-semibold my-3\">Answer</div>\n                    <div\n                      className={`transition-opacity font- text-lg duration-1000 ${\n                        item.id === id ? \"opacity-100\" : \"opacity-200\"\n                      }`}\n                    >\n                      {item.response}\n                    </div>\n                  </div>\n                </div>\n              ))}\n\n              {displayInput && (\n                <div>\n                  <input\n                    placeholder=\"Type your follow up questions here\"\n                    className={`w-full  border-solid border-2 p-2 h-fit rounded-md transition-opacity duration-1000 ${\n                      agentResponse ? \"opacity-100\" : \"opacity-0\"\n                    }`}\n                    onChange={(e) => setUserInput(e.target.value)}\n                    onKeyDown={(e) => e.key === \"Enter\" && sendUserInput()}\n                  />\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}